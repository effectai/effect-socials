(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1019:function(e,t,n){"use strict";n(993)},1020:function(e,t,n){(t=n(84)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),t.push([e.i,"@import url(https://use.typekit.net/kej5qyk.css);"]),t.push([e.i,".is-boxed .file-cta[data-v-5c78a2ea]{background:#fff;border:none;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23A9B1BD' stroke-width='4' stroke-dasharray='6,14' stroke-dashoffset='10' stroke-linecap='square'/%3E%3C/svg%3E\")}.dragover[data-v-5c78a2ea]{background-color:#e7f3ff!important}table[data-v-5c78a2ea]{background:transparent;border-spacing:10px;width:100%;text-align:center;border-radius:8px}table td[data-v-5c78a2ea]{border-top:1px solid #e8eeff}table th[data-v-5c78a2ea]{border:none}div.box[data-v-5c78a2ea]{background:#f7f9fb;padding:2rem;border-radius:8px;box-shadow:none}.button.is-wide[data-v-5c78a2ea]{min-width:220px}.batch-info[data-v-5c78a2ea]{padding-right:0}.batch-info .box[data-v-5c78a2ea]{width:100%;height:auto;padding:1rem;background:#fff}.batch-info .box button[data-v-5c78a2ea]{font-size:.9rem}",""]),e.exports=t},965:function(e,t,n){"use strict";n.r(t);var r={props:["page","perPage","items"],computed:{maxPage:function(){return Math.ceil(this.items/this.perPage)}},watch:{items:function(){this.$emit("setPage",1)}}},l=n(34),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items&&e.items>e.perPage?n("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[n("span",{staticStyle:{"padding-left":"0.5em"}},[e._v(e._s((e.page-1)*e.perPage+1)+"-"+e._s(Math.min(e.page*e.perPage,e.items))+" of\n    "+e._s(e.items))]),e._v(" "),n("a",{staticClass:"pagination-previous",attrs:{disabled:1===e.page},on:{click:function(t){return e.$emit("setPage",e.page-1)}}},[e._v("Previous")]),e._v(" "),n("a",{staticClass:"pagination-next",attrs:{disabled:!e.maxPage||e.page===e.maxPage},on:{click:function(t){return e.$emit("setPage",e.page+1)}}},[e._v("Next page")]),e._v(" "),n("ul",{staticClass:"pagination-list has-margin-top-mobile"},[e.page>2?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(t){return e.$emit("setPage",1)}}},[e._v("1")])]):e._e(),e._v(" "),e.page>3?n("li",[n("span",{staticClass:"pagination-ellipsis"},[e._v("…")])]):e._e(),e._v(" "),e.page>1?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(t){return e.$emit("setPage",e.page-1)}}},[e._v(e._s(e.page-1))])]):e._e(),e._v(" "),n("li",[n("a",{staticClass:"pagination-link is-current",attrs:{"aria-current":"page"}},[e._v(e._s(e.page))])]),e._v(" "),e.page<e.maxPage?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(t){return e.$emit("setPage",e.page+1)}}},[e._v("\n        "+e._s(e.page+1))])]):e._e(),e._v(" "),e.maxPage>e.page+2?n("li",[n("span",{staticClass:"pagination-ellipsis"},[e._v("…")])]):e._e(),e._v(" "),e.maxPage>e.page+1?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(t){return e.$emit("setPage",e.maxPage)}}},[e._v(e._s(e.maxPage))])]):e._e()])]):e._e()}),[],!1,null,null,null);t.default=component.exports},970:function(e,t,n){"use strict";n.r(t);n(158),n(159),n(160),n(128),n(303),n(102),n(482),n(297),n(296),n(217),n(959),n(55),n(992),n(474),n(103),n(163),n(967),n(161),n(126),n(157),n(213),n(162),n(156),n(154),n(472);var r=n(971),l=n(45),o=n(5),c=n(127),d=n(965);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=o.a.extend({props:["campaign"],data:function(){return{tour:null,twitterModal:!1,bulkUploadDiv:!1,step:1,repetitions:1,tempCounter:0,newTask:{id:null,link:null},tasks:[],file:{name:null,content:null},error:null,loading:!1,page:1,perPage:10,type:null,placeholders:["link"],placeholderError:null,likeCampaign:{id:Number("14"),title:"Like"},followCampaign:{id:Number("14"),title:"Follow",parameter:"username"},retweetCampaign:{id:Number("14"),title:"Follow",parameter:"username"},replyCampaign:{id:Number("14"),title:"Follow",parameter:"username"},InstagramCampaign:{id:Number("14"),title:"instagram",parameter:"link"}}},computed:f(f({},Object(c.d)({shepherd:function(e){return e.shepherd}})),{},{paginatedTasks:function(){var e=(this.page-1)*this.perPage;return this.tasks?this.tasks.slice(e,e+this.perPage):[]}}),components:{Pagination:d.default},mounted:function(){var e=this;this.campaign&&this.campaign.info&&this.getPlaceholders(this.campaign.info.template),this.$nextTick((function(){return e.generateCsvData(e.$refs.csvfiledownload,e.placeholders)})),this.$nextTick((function(){e.tour=e.$shepherd({defaultStepOptions:{cancelIcon:{enabled:!0},classes:"shepherd-theme-arrows",scrollTo:!0},useModalOverlay:!0}),e.tour.addSteps([{id:"step1",title:"Order Form",text:"Welcome to the order form. Here you can create a new order for your social media campaign.",attachTo:{element:e.$refs.step1,on:"top"},buttons:[{text:"Next",action:e.tour.next},{text:"Close",action:e.closeShepherd}],cancelIcon:{enabled:!0},classes:"shepherd-theme-arrows"},{id:"step2",title:"Add your links",text:"Add your links to the table below. You can add as many links as you want.",attachTo:{element:e.$refs.step2,on:"top"},buttons:[{text:"Next",action:e.tour.next},{text:"Close",action:e.closeShepherd}],cancelIcon:{enabled:!0},classes:"shepherd-theme-arrows"},{id:"step3",title:"Worker per Link",text:"Set the amount of workers you want per link. You can have multiple workers per link. So if you want 10 people to like your tweet, you can set the amount to 10.",attachTo:{element:e.$refs.step3,on:"top"},buttons:[{text:"Next",action:e.tour.next},{text:"Close",action:e.closeShepherd}],cancelIcon:{enabled:!0},classes:"shepherd-theme-arrows"},{id:"step4",title:"Next Step",text:"Next step is to connect your wallet, let's go!",attachTo:{element:e.$refs.step4,on:"top"},buttons:[{text:"Next",action:e.tour.next},{text:"Close",action:e.closeShepherd}],cancelIcon:{enabled:!0},classes:"shepherd-theme-arrows"}]),e.shepherd&&e.tour.start()})),this.newTask=this.getEmptyTask(this.placeholders)},created:function(){},methods:f(f({},Object(c.b)({disableShepherd:"view/disableShepherd",enableShepherd:"view/enableShepherd"})),{},{closeShepherd:function(){this.disableShepherd(),this.tour.cancel()},restartTour:function(){this.tour.cancel(),this.tour.start()},showTwitter:function(){this.twitterModal=!0},setPage:function(e){this.page=e},dragover:function(e){e.preventDefault(),e.currentTarget.classList.add("dragover")},dragleave:function(e){e.currentTarget.classList.remove("dragover")},onChange:function(){this.filelist=Object(r.a)(this.$refs.file.files)},createTask:function(){var e,t=this;for(var n in this.newTask)if(Object.hasOwnProperty.call(this.newTask,n)){var element=this.newTask[n];if(null===element||""===element)return this.placeholderError="Please fill in all the placeholders",void setTimeout((function(){return t.placeholderError=null}),5e3)}if(console.log(this.campaign.id),this.campaign.id===parseInt("26")){try{e=this.newTask.instagramLink.includes("https://")||this.newTask.instagramLink.includes("http://")?new URL(this.newTask.instagramLink):new URL("https://".concat(this.newTask.instagramLink))}catch(e){console.error(e),this.placeholderError="Please fill in all the placeholders",setTimeout((function(){return t.placeholderError=null}),5e3)}if(console.log(e,!e.pathname.includes("/p/"),!e.pathname.includes("/reel/")),"www.instagram.com"!==e.hostname)return this.placeholderError="Please enter a valid Instagram link.",void setTimeout((function(){return t.placeholderError=null}),1e4);if(!e.pathname.includes("/p/")&&!e.pathname.includes("/reel/"))return this.placeholderError="Please enter a valid Instagram link: https://www.instagram.com/reel/Chg66lVlP2J/ or https://www.instagram.com/p/Chg66lVlP2J/",void setTimeout((function(){return t.placeholderError=null}),1e4);this.newTask.instagramLink="https://www.instagram.com".concat(e.pathname),this.tasks.push(this.newTask)}else if(this.campaign.id===parseInt("15")){try{e=this.newTask.twitter_handle.includes("https://")||this.newTask.twitter_handle.includes("http://")?new URL(this.newTask.twitter_handle):new URL("https://".concat(this.newTask.twitter_handle))}catch(e){console.error(e),this.placeholderError="Please fill in all the placeholders",setTimeout((function(){return t.placeholderError=null}),5e3)}if("twitter.com"!==e.hostname)return this.placeholderError="Please enter a valid twitter handle: https://twitter.com/username",void setTimeout((function(){return t.placeholderError=null}),1e4);this.newTask.twitter_handle="https://www.twitter.com".concat(e.pathname),this.tasks.push(this.newTask)}else if(this.campaign.id===parseInt("32")||this.campaign.id===parseInt("33")||this.campaign.id===parseInt("34"))this.tasks.push(this.newTask);else if(this.campaign.id===parseInt("16")){try{e=this.newTask.tweet_id.includes("https://")||this.newTask.tweet_id.includes("http://")?new URL(this.newTask.tweet_id):new URL("https://".concat(this.newTask.tweet_id))}catch(e){return console.error(e),this.placeholderError="Please enter a valid twitter.com url",void setTimeout((function(){return t.placeholderError=null}),5e3)}if("twitter.com"!==e.hostname||!e.pathname.includes("/status/")||0===e.pathname.split("/")[3].length)return this.placeholderError="Please enter a valid tweet url: https://twitter.com/username/status/123456789",void setTimeout((function(){return t.placeholderError=null}),5e3);this.newTask.tweet_id="".concat(e.hostname).concat(e.pathname),this.tasks.push(this.newTask)}else{try{e=this.newTask.tweet.includes("https://")||this.newTask.tweet.includes("http://")?new URL(this.newTask.tweet):new URL("https://".concat(this.newTask.tweet))}catch(e){return console.error(e),this.placeholderError="Please enter a valid twitter.com url",void setTimeout((function(){return t.placeholderError=null}),5e3)}if("twitter.com"!==e.hostname||!e.pathname.includes("/status/")||0===e.pathname.split("/")[3].length)return this.placeholderError="Please enter a valid tweet url: https://twitter.com/username/status/123456789",void setTimeout((function(){return t.placeholderError=null}),5e3);this.newTask.tweet="".concat(e.hostname).concat(e.pathname),this.tasks.push(this.newTask)}this.newTask.id=this.tempCounter++,this.newTask=this.getEmptyTask(this.placeholders),this.$nextTick((function(){t.$refs["placeholder-0"][0].focus()}))},drop:function(e){e.preventDefault(),this.uploadFile(e.dataTransfer.files?e.dataTransfer.files:null,!0),e.currentTarget.classList.remove("dragover")},uploadFile:function(e,t){var n=this;this.file={name:null,content:null},this.error=null;var r=t?e[0]:e.target.files[0];if(r){this.file.name=r.name;var l=new FileReader;l.onload=function(e){n.file.content=n.csvToJson(e.target.result),n.file.content.forEach((function(element){n.newTask=element,n.createTask();var e=!1;n.placeholders.forEach((function(t){element[t]&&(e=!0)})),e||n.$emit("error","Placeholder not found in CSV")}))},l.readAsText(r)}else this.$emit("error","Could not find file"),this.file=null},csvToJson:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"',o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",c=new RegExp("\\s*(".concat(n,")?(.*?)\\1\\s*(?:").concat(o,"|$)"),"gs"),d=function(e){return Object(r.a)(e.matchAll(c)).map((function(e){return e[2]})).filter((function(e,i,a){return i<a.length-1}))},h=e.split("\n"),m=t||d(h.splice(0,1)[0]);return h.map((function(line){return d(line).reduce((function(e,t,i){return f(f({},e),{},Object(l.a)({},m[i]||"extra_".concat(i),t.length>0?Number(t)||t:null))}),{})}))},getPlaceholders:function(template){var e=function(e,t,n){n||(n=1);for(var r,l=[];r=t.exec(e);)l.push(r[n]);return l}(template,/\$\{\s?(\w+)\s?\|?\s?(\w*)\s?\}/g),t=Object(r.a)(new Set(e));this.placeholders=t},generateCsvData:function(e,t){console.log(this.$refs);var link=this.$refs.csvfiledownload,n="data:text/csv;charset=utf-8,";n+=[Object.values(t).join(","),t.map((function(e){return e+"-value-task-1"})),t.map((function(e){return e+"-value-task-2"})),t.map((function(e){return e+"-value-task-3"}))].join("\n").replace(/(^\[)|(\]$)/gm,""),console.log(link,n),link.href=encodeURI(n)},getEmptyTask:function(e){var t={};return e.forEach((function(e){t[e]=""})),t},nextStep:function(){this.$emit("nextStep"),this.$emit("setBatch",this.tasks,this.repetitions)},cancel:function(){this.$emit("previousStep")},placeHolderTitle:function(e){switch(e){case"tweet_id":return"Link to Tweet";case"twitter_handle":return"Twitter Handle";case"tweet_instructions":return"Tweet Instructions";case"instagramLink":return"URL to Instagram post";case"instagramAcct":return"Instagram Account name";case"channel_url":return"Youtube Channel Name";case"video_url":return"Youtube Video URL";default:return e}}})}),v=(n(1019),n(34)),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"step1",attrs:{id:"step-2"}},[n("h2",{staticClass:"title"},[e._v("2. Add Links")]),e._v(" "),n("div",{staticClass:"field"},[n("input",{staticClass:"switch is-info is-outlined unselectable",attrs:{type:"checkbox",name:"bulkuploadswitch",id:"bulkuploadswitch"},domProps:{checked:e.bulkUploadDiv},on:{click:function(t){e.bulkUploadDiv=!e.bulkUploadDiv}}}),e._v(" "),n("label",{attrs:{for:"bulkuploadswitch"}},[e._v("Bulk Upload")])]),e._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"box"},[n("div",{staticClass:"p-2",staticStyle:{background:"#fff","border-radius":"8px"}},[n("table",{staticClass:"table mx-auto"},[n("thead",[n("tr",e._l(e.placeholders,(function(t){return n("th",{key:t,staticClass:"task-placeholder-value has-text-left",staticStyle:{"text-transform":"capitalize"}},[e._v("\n                  "+e._s(e.placeHolderTitle(t))+"\n                ")])})),0)]),e._v(" "),n("tbody",[e._l(e.paginatedTasks,(function(t,r){return n("tr",{key:t.id},[e._l(e.placeholders,(function(r){return n("td",{key:r,staticClass:"task-placeholder-value has-text-left"},["tweet_id"===r||"tweet"===r?n("a",{attrs:{href:"https://"+t[r],target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(t[r]))]):n("span",[e._v(e._s(t[r]))])])})),e._v(" "),n("td",[n("span",{staticClass:"buttons"},[n("button",{staticClass:"button is-danger is-outlined is-small is-rounded",on:{click:function(t){return t.preventDefault(),e.tasks.splice(r,1)}}},[n("font-awesome-icon",{staticClass:"icon is-small",attrs:{icon:"fa-solid fa-trash-can"}})],1)])])],2)})),e._v(" "),n("tr",{ref:"step2"},e._l(e.placeholders,(function(t,r){return n("td",{key:t,staticClass:"task-placeholder-value"},[n("input","tweet_id"===t?{directives:[{name:"model",rawName:"v-model",value:e.newTask[t],expression:"newTask[placeholder]"}],ref:"placeholder-"+r,refInFor:!0,staticClass:"input is-info task-placeholder-value",attrs:{type:"url",pattern:"https?://.+",placeholder:"https://twitter.com/username/status/12345",required:""},domProps:{value:e.newTask[t]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createTask.apply(null,arguments))},input:function(n){n.target.composing||e.$set(e.newTask,t,n.target.value)}}}:{directives:[{name:"model",rawName:"v-model",value:e.newTask[t],expression:"newTask[placeholder]"}],ref:"placeholder-"+r,refInFor:!0,staticClass:"input is-info task-placeholder-value",attrs:{placeholder:e.placeHolderTitle(t),required:""},domProps:{value:e.newTask[t]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createTask.apply(null,arguments))},input:function(n){n.target.composing||e.$set(e.newTask,t,n.target.value)}}})])})),0)],2)]),e._v(" "),e.tasks?n("pagination",{attrs:{items:e.tasks.length,page:e.page,"per-page":e.perPage},on:{setPage:e.setPage}}):e._e()],1),e._v(" "),n("div",{staticClass:"control has-text-centered mt-5"},[n("button",{staticClass:"button is-primary is-wide",on:{click:function(t){return t.preventDefault(),e.createTask.apply(null,arguments)}}},[e._v("\n            Add Task\n          ")]),e._v(" "),e.placeholderError?n("div",{staticClass:"notification is-danger is-light mt-5"},[e._v("\n            "+e._s(e.placeholderError)+"\n          ")]):e._e()])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.bulkUploadDiv,expression:"bulkUploadDiv"}],staticClass:"box is-centered"},[n("h2",{staticClass:"subtitle is-6 has-text-weight-bold mb-3"},[e._v("\n          Bulk Upload\n        ")]),e._v(" "),n("div",{staticClass:"file is-boxed mt-3"},[n("label",{staticClass:"file-label",staticStyle:{width:"100%"}},[n("input",{staticClass:"file-input",attrs:{type:"file",name:"csvtasks"},on:{change:e.uploadFile}}),e._v(" "),n("span",{staticClass:"file-cta",on:{dragover:e.dragover,dragleave:e.dragleave,drop:e.drop}},[n("span",{staticClass:"file-icon"},[n("font-awesome-icon",{staticClass:"is-small",attrs:{icon:"fa-solid fa-upload"}})],1),e._v(" "),e._m(0)])])]),e._v(" "),n("div",[n("a",{ref:"csvfiledownload",staticClass:"is-size-7",attrs:{href:"",download:"example.csv"}},[e._v("Download example CSV")])]),e._v(" "),e.file.name?n("p",{staticClass:"has-text-success mt-2"},[e._v("\n          Imported file: "+e._s(e.file.name)+"\n        ")]):e._e(),e._v(" "),e.error?n("p",{staticClass:"has-text-danger"},[e._v("\n          "+e._s(e.error)+"\n        ")]):e._e()]),e._v(" "),n("div",{staticClass:"box is-centered"},[e.campaign&&e.campaign.info?n("div",{staticClass:"is-6 py-0 px-2 batch-info"},[n("div",{staticClass:"box"},[n("span",[e._v("\n              Worker per Link:\n            ")]),e._v(" "),n("span",[n("strong",[e._v(e._s(e.repetitions))])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repetitions,expression:"repetitions"}],ref:"step3",staticClass:"slider is-fullwidth is-info",attrs:{step:"1",min:"1",max:"20",type:"range"},domProps:{value:e.repetitions},on:{__r:function(t){e.repetitions=t.target.value}}}),e._v("\n            Total Cost\n            "),n("strong",[e._v(e._s(parseFloat(e.campaign.info.reward*e.tasks.length*e.repetitions).toFixed(4))+" EFX")])])]):e._e()])]),e._v(" "),n("form",[n("div",{staticClass:"field is-grouped is-justify-content-center mt-6"},[n("div",{staticClass:"control buttons"},[n("button",{staticClass:"button is-outlined is-primary is-wide",on:{click:e.cancel}},[e._v("\n            Back\n          ")]),e._v(" "),n("button",{staticClass:"button is-outlined is-info",on:{click:function(t){return t.preventDefault(),e.restartTour.apply(null,arguments)}}},[n("span",{staticClass:"icon-text"},[e._v("\n              Help\n            ")])]),e._v(" "),n("button",{ref:"step4",staticClass:"button is-primary is-wide mr-4",class:{"is-loading":e.loading},attrs:{type:"submit",disabled:!e.tasks.length},on:{click:e.nextStep}},[e._v("\n            Next step\n          ")])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"file-label has-text-grey is-size-7"},[this._v("\n                Drag and drop or browse"),t("br"),this._v("to choose a CSV file\n              ")])}],!1,null,"5c78a2ea",null);t.default=component.exports;installComponents(component,{Pagination:n(965).default,Form:n(970).default})},993:function(e,t,n){var content=n(1020);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(85).default)("432cb0ac",content,!0,{sourceMap:!1})}}]);